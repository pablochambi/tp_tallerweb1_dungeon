SET DATABASE UNIQUE NAME HSQLDB97EBFDAD0D
SET DATABASE GC 0
SET DATABASE DEFAULT RESULT MEMORY ROWS 0
SET DATABASE EVENT LOG LEVEL 0
SET DATABASE TRANSACTION CONTROL LOCKS
SET DATABASE DEFAULT ISOLATION LEVEL READ COMMITTED
SET DATABASE TRANSACTION ROLLBACK ON CONFLICT TRUE
SET DATABASE TEXT TABLE DEFAULTS ''
SET DATABASE SQL NAMES FALSE
SET DATABASE SQL REFERENCES FALSE
SET DATABASE SQL SIZE TRUE
SET DATABASE SQL TYPES FALSE
SET DATABASE SQL TDC DELETE TRUE
SET DATABASE SQL TDC UPDATE TRUE
SET DATABASE SQL TRANSLATE TTI TYPES TRUE
SET DATABASE SQL CONCAT NULLS TRUE
SET DATABASE SQL UNIQUE NULLS TRUE
SET DATABASE SQL CONVERT TRUNCATE TRUE
SET DATABASE SQL AVG SCALE 0
SET DATABASE SQL DOUBLE NAN TRUE
SET FILES WRITE DELAY 500 MILLIS
SET FILES BACKUP INCREMENT TRUE
SET FILES CACHE SIZE 10000
SET FILES CACHE ROWS 50000
SET FILES SCALE 32
SET FILES LOB SCALE 32
SET FILES DEFRAG 0
SET FILES NIO TRUE
SET FILES NIO SIZE 256
SET FILES LOG TRUE
SET FILES LOG SIZE 50
CREATE USER SA PASSWORD DIGEST 'd41d8cd98f00b204e9800998ecf8427e'
ALTER USER SA SET LOCAL TRUE
CREATE SCHEMA PUBLIC AUTHORIZATION DBA
SET SCHEMA PUBLIC
CREATE MEMORY TABLE PUBLIC.CARRUAJE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CANTIDADDEHEROESSEMANALES INTEGER,NIVEL INTEGER,SEMANA INTEGER,USUARIO_ID BIGINT)
ALTER TABLE PUBLIC.CARRUAJE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.CARRUAJEHEROE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CARRUAJE_ID BIGINT,HEROE_ID BIGINT,CONSTRAINT FKGIBRE8PAG9882AG7EVI304C5I FOREIGN KEY(CARRUAJE_ID) REFERENCES PUBLIC.CARRUAJE(ID))
ALTER TABLE PUBLIC.CARRUAJEHEROE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.EXPEDITION(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,COMPLETED BOOLEAN NOT NULL,NUMBER INTEGER NOT NULL,SESSION_ID BIGINT NOT NULL)
ALTER TABLE PUBLIC.EXPEDITION ALTER COLUMN ID RESTART WITH 5
CREATE MEMORY TABLE PUBLIC.GAME_SESSION(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ACTIVE INTEGER DEFAULT 1 NOT NULL,ENDED_AT TIMESTAMP,FINISHED INTEGER DEFAULT 0 NOT NULL,NIVEL INTEGER NOT NULL,STARTED_AT TIMESTAMP NOT NULL,TURNO INTEGER NOT NULL,USUARIO_ID BIGINT NOT NULL)
ALTER TABLE PUBLIC.GAME_SESSION ALTER COLUMN ID RESTART WITH 5
CREATE MEMORY TABLE PUBLIC.HEROE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ATK INTEGER NOT NULL,DEFENSA_BASE INTEGER NOT NULL,MAX_VIDA INTEGER NOT NULL,NIVEL INTEGER,NOMBRE VARCHAR(255),PRECIO INTEGER NOT NULL,URL_IMAGEN VARCHAR(255))
ALTER TABLE PUBLIC.HEROE ALTER COLUMN ID RESTART WITH 5
CREATE MEMORY TABLE PUBLIC.INVENTARIO(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USUARIO_ID BIGINT)
ALTER TABLE PUBLIC.INVENTARIO ALTER COLUMN ID RESTART WITH 5
CREATE MEMORY TABLE PUBLIC.ITEM(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NOMBRE VARCHAR(255),PRECIO INTEGER,TIPO VARCHAR(255),INVENTARIO_ID BIGINT,USUARIO_ID BIGINT,CONSTRAINT FKPBNY7YFUJV6NYBO7PCYANAPXR FOREIGN KEY(INVENTARIO_ID) REFERENCES PUBLIC.INVENTARIO(ID))
ALTER TABLE PUBLIC.ITEM ALTER COLUMN ID RESTART WITH 5
CREATE MEMORY TABLE PUBLIC.MONSTER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ATK INTEGER NOT NULL,IMAGEN VARCHAR(255),NOMBRE VARCHAR(255),VIDA INTEGER NOT NULL)
ALTER TABLE PUBLIC.MONSTER ALTER COLUMN ID RESTART WITH 11
CREATE MEMORY TABLE PUBLIC.SESSION_HERO(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DEFENDING BOOLEAN NOT NULL,ORDEN INTEGER NOT NULL,VIDA_ACTUAL INTEGER NOT NULL,HERO_ID BIGINT NOT NULL,SESSION_ID BIGINT NOT NULL,CONSTRAINT FK8LG6P459RYFXNOR5JFSFTRLLC FOREIGN KEY(HERO_ID) REFERENCES PUBLIC.HEROE(ID),CONSTRAINT FKHIORQ17OYS5XAPE3U8YU2Q47A FOREIGN KEY(SESSION_ID) REFERENCES PUBLIC.GAME_SESSION(ID))
ALTER TABLE PUBLIC.SESSION_HERO ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SESSION_MONSTER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DUNGEON_NUMBER INTEGER NOT NULL,EXPEDITION_NUMBER INTEGER NOT NULL,ORDEN INTEGER NOT NULL,VIDA_ACTUAL INTEGER NOT NULL,MONSTER_ID BIGINT NOT NULL,SESSION_ID BIGINT NOT NULL,CONSTRAINT FK3WO6V7WOXHRH6IP2ACOYQ7BIF FOREIGN KEY(MONSTER_ID) REFERENCES PUBLIC.MONSTER(ID),CONSTRAINT FKPCKW8MI09112A87HJ977UBA98 FOREIGN KEY(SESSION_ID) REFERENCES PUBLIC.GAME_SESSION(ID))
ALTER TABLE PUBLIC.SESSION_MONSTER ALTER COLUMN ID RESTART WITH 4
CREATE MEMORY TABLE PUBLIC.USUARIO(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ACTIVO BOOLEAN,EMAIL VARCHAR(255),EXPEDICIONACTUAL INTEGER NOT NULL,MAZMORRAACTUAL INTEGER NOT NULL,NOMBRE VARCHAR(255),ORO INTEGER NOT NULL,PASSWORD VARCHAR(255),ROL VARCHAR(255),INVENTARIO_ID BIGINT,CONSTRAINT FKO90D6E64DREF1PCAQJ9O1PGUQ FOREIGN KEY(INVENTARIO_ID) REFERENCES PUBLIC.INVENTARIO(ID))
ALTER TABLE PUBLIC.USUARIO ALTER COLUMN ID RESTART WITH 5
CREATE MEMORY TABLE PUBLIC.USUARIOHEROE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NIVEL INTEGER,HEROE_ID BIGINT,USUARIO_ID BIGINT,CONSTRAINT FKT11TI5GD88OPF8Y8AU5X190GB FOREIGN KEY(HEROE_ID) REFERENCES PUBLIC.HEROE(ID),CONSTRAINT FKHCR4WB3WBRFQPVY9SW62FPIBU FOREIGN KEY(USUARIO_ID) REFERENCES PUBLIC.USUARIO(ID))
ALTER TABLE PUBLIC.USUARIOHEROE ALTER COLUMN ID RESTART WITH 1
ALTER TABLE PUBLIC.CARRUAJE ADD CONSTRAINT FKP6B0B0OHFOJW9NAADMO8JAQOQ FOREIGN KEY(USUARIO_ID) REFERENCES PUBLIC.USUARIO(ID)
ALTER TABLE PUBLIC.CARRUAJEHEROE ADD CONSTRAINT FK4HS9R8P8I4X3V0VGXN6WSOWFV FOREIGN KEY(HEROE_ID) REFERENCES PUBLIC.HEROE(ID)
ALTER TABLE PUBLIC.EXPEDITION ADD CONSTRAINT FK_EXPEDITION_SESSION FOREIGN KEY(SESSION_ID) REFERENCES PUBLIC.GAME_SESSION(ID)
ALTER TABLE PUBLIC.GAME_SESSION ADD CONSTRAINT FKG0KRFQQL6PRA0AWNJ9GVAOI7 FOREIGN KEY(USUARIO_ID) REFERENCES PUBLIC.USUARIO(ID)
ALTER TABLE PUBLIC.INVENTARIO ADD CONSTRAINT FKDOY6M3E26GOHDJ31007CPH5TW FOREIGN KEY(USUARIO_ID) REFERENCES PUBLIC.USUARIO(ID)
ALTER TABLE PUBLIC.ITEM ADD CONSTRAINT FKEYYCGJ5B89Y03WS7WOH8Y3TYN FOREIGN KEY(USUARIO_ID) REFERENCES PUBLIC.USUARIO(ID)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 1
SET DATABASE DEFAULT INITIAL SCHEMA PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.SQL_IDENTIFIER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.YES_OR_NO TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.TIME_STAMP TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CARDINAL_NUMBER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CHARACTER_DATA TO PUBLIC
GRANT DBA TO SA
SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
SET SCHEMA PUBLIC
INSERT INTO EXPEDITION VALUES(1,FALSE,2,1)
INSERT INTO EXPEDITION VALUES(2,FALSE,3,2)
INSERT INTO EXPEDITION VALUES(3,FALSE,3,3)
INSERT INTO EXPEDITION VALUES(4,FALSE,1,4)
INSERT INTO GAME_SESSION VALUES(1,1,NULL,0,3,'2025-06-24 13:00:00.000000',1,1)
INSERT INTO GAME_SESSION VALUES(2,1,NULL,0,2,'2025-06-24 13:05:00.000000',1,2)
INSERT INTO GAME_SESSION VALUES(3,1,NULL,0,1,'2025-06-24 13:10:00.000000',1,3)
INSERT INTO GAME_SESSION VALUES(4,1,NULL,0,3,'2025-06-24 13:15:00.000000',1,4)
INSERT INTO HEROE VALUES(1,35,5,300,1,'Cruzado',300,'/imagenes/cruzado.webp')
INSERT INTO HEROE VALUES(2,25,8,200,1,'Vestal',200,'/imagenes/Vestal.webp')
INSERT INTO HEROE VALUES(3,30,10,250,1,'Cazador',200,'/imagenes/Brigand_Hunter.webp')
INSERT INTO HEROE VALUES(4,1000,1000,800,1,'HeroeDios',200,'/imagenes/heroeDios.webp')
INSERT INTO INVENTARIO VALUES(1,1)
INSERT INTO INVENTARIO VALUES(2,2)
INSERT INTO INVENTARIO VALUES(3,3)
INSERT INTO INVENTARIO VALUES(4,4)
INSERT INTO ITEM VALUES(1,'Poci\u00f3n de Vida',100,'POCION',NULL,NULL)
INSERT INTO ITEM VALUES(2,'Poci\u00f3n de Estr\u00e9s',80,'POCION',NULL,NULL)
INSERT INTO ITEM VALUES(3,'Espada Rota',150,'ARMA',NULL,NULL)
INSERT INTO ITEM VALUES(4,'Armadura Ligera',120,'ARMA',NULL,NULL)
INSERT INTO MONSTER VALUES(5,10,'&#x1F9DD;&#x200D;&#x2642;&#xFE0F;','Orco',60)
INSERT INTO MONSTER VALUES(6,12,'&#x1F9D9;&#x200D;&#x2642;&#xFE0F;','Mago',35)
INSERT INTO MONSTER VALUES(7,14,'&#x1F9DB;&#x200D;&#x2642;&#xFE0F;','Vampiro',55)
INSERT INTO MONSTER VALUES(8,7,'&#x1F9D9;&#x200D;&#x2640;&#xFE0F;','Golem',80)
INSERT INTO MONSTER VALUES(9,20,'&#x1F409;','Drag\u00f3n',100)
INSERT INTO MONSTER VALUES(10,18,'&#x1F47F;','Demonio',70)
INSERT INTO SESSION_MONSTER VALUES(1,1,1,1,60,5,1)
INSERT INTO SESSION_MONSTER VALUES(2,1,1,2,35,6,1)
INSERT INTO SESSION_MONSTER VALUES(3,1,1,3,55,7,1)
INSERT INTO USUARIO VALUES(1,TRUE,'test@unlam.edu.ar',1,3,'H\u00e9roe',1000,'test','ADMIN',1)
INSERT INTO USUARIO VALUES(2,TRUE,'otro@ejemplo.com',1,2,'Aventurero',500,'1234','ADMIN',2)
INSERT INTO USUARIO VALUES(3,TRUE,'jugador3@game.com',3,1,'Usuario 3',1000,'123','USER',3)
INSERT INTO USUARIO VALUES(4,TRUE,'jugador4@game.com',2,3,'Usuario 4',3000,'123','USER',4)
